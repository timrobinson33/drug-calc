(this["webpackJsonpdrug-calc"]=this["webpackJsonpdrug-calc"]||[]).push([[0],{11:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var o=n(1),u=n.n(o),a=n(5),s=n.n(a),r=n(2),c=(n(10),n(11),n(4)),i=n.n(c),l=n(0),m=[{drugName:"",units:"mg"},{drugName:"Morphine 1st Line",units:"mg",strengths:[{amount:0},{amount:10,volume:1},{amount:15,volume:1},{amount:20,volume:1},{amount:30,volume:1},{amount:10,volume:2},{amount:15,volume:2},{amount:20,volume:2},{amount:30,volume:2}]},{drugName:"Diamorphine",units:"mg",strengths:[{amount:0},{amount:10,volume:1},{amount:15,volume:1},{amount:30,volume:1},{amount:100,volume:1},{amount:10,volume:2},{amount:15,volume:2},{amount:30,volume:2},{amount:100,volume:2}]},{drugName:"Oxycodone",units:"mg",strengths:[{amount:0},{amount:10,volume:1},{amount:20,volume:2},{amount:50,volume:1}]},{drugName:"Fentanyl",units:"mcg",strengths:[{amount:0},{amount:50,volume:1},{amount:100,volume:2},{amount:500,volume:5}]},{drugName:"Haloperidol",units:"mg",strengths:[{amount:0},{amount:5,volume:1}]},{drugName:"Metoclopramide",units:"mg",strengths:[{amount:0},{amount:10,volume:2}]},{drugName:"Cyclizine",units:"mg",strengths:[{amount:0},{amount:50,volume:1}]},{drugName:"Levomepromazine",units:"mg",strengths:[{amount:0},{amount:25,volume:1}]},{drugName:"Midazolam",units:"mg",strengths:[{amount:0},{amount:10,volume:2}]},{drugName:"Hyoscine Butylbromide",units:"mg",strengths:[{amount:0},{amount:20,volume:1}]},{drugName:"Hyoscine Hydrobromide",units:"mcg",strengths:[{amount:0},{amount:400,volume:1}]}];function d(e){return parseFloat(e.toFixed(2))}function j(e){var t=e.drugIdx,n=e.strengthIdx,o=e.prescribedDose,u=e.numStatDoses,a=e.statDoseStrength,s=m[t].units,r=m[t].strengths[n],c=o+u*a,j=c/r.amount*r.volume,b=i.a.ceil(j/r.volume),h=b*r.amount-c,g=b*r.volume-j;return Object(l.jsxs)("div",{className:"box",children:[Object(l.jsx)("label",{children:"Results:"}),Object(l.jsx)("p",{children:Object(l.jsxs)("span",{children:["Total dose (",s,"): ",o," + (",u," x ",a,") = ",c,s]})}),Object(l.jsx)("p",{children:Object(l.jsxs)("span",{children:["Total dose (ml): ",c," ","\xf7"," ",r.amount," x ",r.volume," = ",d(j),"ml"]})}),Object(l.jsx)("p",{children:Object(l.jsxs)("span",{children:["Number of vials: ",b]})}),Object(l.jsx)("p",{children:Object(l.jsxs)("span",{children:["Waste: ",d(h),s," (= ",d(g),"ml)"]})})]})}function b(){var e=Object(o.useState)(0),t=Object(r.a)(e,2),n=t[0],u=t[1],a=Object(o.useState)(0),s=Object(r.a)(a,2),c=s[0],d=s[1],b=Object(o.useState)(""),h=Object(r.a)(b,2),g=h[0],v=h[1],O=Object(o.useState)(0),x=Object(r.a)(O,2),p=x[0],f=x[1],y=Object(o.useState)(""),N=Object(r.a)(y,2),S=N[0],C=N[1],D=Object(o.useState)(!1),k=Object(r.a)(D,2),F=k[0],I=k[1],T=Number(g),H=Number(S),M=m[n].units,R=!F&&!!(T&&!p||H);function z(e){"mg"!==m[e].units&&alert("NOTE: ".concat(m[e].drugName," is measured in micrograms (mcg or \u03bcg), not milligrams (mg).\nThere are 1000mcg in 1mg")),u(e),w(0)}function w(e){d(e),v(""),B(0),I(!1)}function B(e){f(e),e||C("")}return Object(l.jsxs)("form",{children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"drug",children:"Drug:"}),Object(l.jsx)("select",{id:"drug",value:n,disabled:F,onChange:function(e){return z(Number(e.target.value))},children:m.map((function(e,t){return Object(l.jsx)("option",{value:t,children:e.drugName},t)}))})]}),!!n&&Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"strength",children:"Strength:"}),Object(l.jsx)("select",{id:"strength",value:c,disabled:F,onChange:function(e){return w(parseInt(e.target.value))},children:m[n].strengths.map((function(e,t){return Object(l.jsx)("option",{value:t,children:e.amount?"".concat(e.amount).concat(M,"/").concat(e.volume,"ml"):""},t)}))})]}),!!c&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"prescribed-dose",children:"Prescribed dose:"}),Object(l.jsx)("input",{id:"prescribed-dose",type:"number",disabled:F,min:0,value:g,onChange:function(e){e.target.validity.valid&&v(e.target.value)}}),Object(l.jsxs)("span",{children:[" ",M]})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"num-stat-doses",children:"+ Stat/PRN doses:"}),Object(l.jsx)("select",{id:"num-stat-doses",value:p,disabled:F,onChange:function(e){return B(parseInt(e.target.value))},children:i.a.range(7).map((function(e){return Object(l.jsx)("option",{value:e,children:e},e)}))}),Object(l.jsx)("span",{children:" x "}),Object(l.jsx)("input",{type:"number","data-testid":"stat-dose-strength",min:0,disabled:F||!p,value:S,onChange:function(e){e.target.validity.valid&&C(e.target.value)}}),Object(l.jsxs)("span",{children:[" ",M]})]}),F&&Object(l.jsx)(j,{drugIdx:n,strengthIdx:c,prescribedDose:T,numStatDoses:p,statDoseStrength:H}),Object(l.jsx)("button",{type:"button",onClick:function(){z(0)},children:"Reset"}),R&&Object(l.jsx)("button",{type:"button",onClick:function(){I(!0)},children:"Calculate"})]})]})}function h(e){var t=e.callback;return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Disclaimer"}),Object(l.jsx)("p",{children:"This application is intended to be used only to cross-check manual drug calculations."}),Object(l.jsx)("p",{children:"It is not approved by NHS or any other healthcare body and you should not rely on it to perform drug calculations."}),Object(l.jsx)("p",{children:"The authors accept no liability for any errors in the application."}),Object(l.jsx)("button",{type:"button",onClick:t,children:"OK"})]})}function g(){var e=Object(o.useState)(!1),t=Object(r.a)(e,2),n=t[0],u=t[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:"Drug calculation checker"}),n?Object(l.jsx)(b,{}):Object(l.jsx)(h,{callback:function(){return u(!0)}}),Object(l.jsxs)("div",{className:"copyright",children:["Version ","0.1.0",". Copyright (c) Tim Robinson https://github.com/timrobinson33"]})]})}s.a.render(Object(l.jsx)(u.a.StrictMode,{children:Object(l.jsx)(g,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.b938df75.chunk.js.map